function myFunction(e){var n=e.currentTarget.id;toggleModal(document.getElementById(n).children[0].id)}function toggleModal(e){var n;switch(e){case"zeland_1":n="Lake Wakatipu";break;case"zeland_2":n="Lake Kai";break;case"zeland_3":n="Doubtful Sound";break;case"zeland_4":n="Sun Rize"}var t=document.getElementById("myModal"),o=document.getElementById(e),a=document.getElementById("preview"),l=document.getElementById("caption");t.style.display="block",a.src=o.currentSrc,l.innerHTML=n,document.getElementsByClassName("close")[0].onclick=function(){t.style.display="none",goBack()},navigate(e)}function goBack(){window.history.back()}function navigate(e){var n=window.location.href;window.location.href=n.replace(/#(.*)$/,"")+"#"+e}function getCurrent(){return window.location.hash}window.onpopstate=function(e){console.log("state: "+JSON.stringify(e.state));var n=document.getElementById("myModal"),t=getCurrent();if(""==t&&"block"==n.style.display)n.style.display="none";else if(""!==t&&"block"!==n.style.display){toggleModal(t.slice(1)),console.log("Its too much calls")}};